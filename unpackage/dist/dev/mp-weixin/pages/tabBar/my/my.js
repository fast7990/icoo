require("../../../common/manifest.js");
require("../../../common/vendor.js");
global.webpackJsonp([21],{47:function(t,e,a){"use strict";var s=n(a(1)),i=n(a(48));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,s.default)(i.default))},48:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a(50),i=a.n(s),n=a(51),c=!1;var o=function(t){c||a(49)},l=a(0)(i.a,n.a,o,"data-v-d168f606",null);l.options.__file="..\\..\\..\\..\\HBX\\icoo\\pages\\tabBar\\my\\my.vue",l.esModule&&Object.keys(l.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),l.options.functional&&console.error("[vue-loader] my.vue: functional components are not supported with templates, they should use render functions."),e.default=l.exports},49:function(t,e){},50:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var s,i=a(6),n=(s=i)&&s.__esModule?s:{default:s},c=a(4);e.default={data:function(){return{title:"我的",today:(new Date).getDay(),baseurl:"https://www.icoo.tech",noheaderimg:"../../../static/img/nopicture.png",my_data:{imgsrc:"",name:"",fans:0,follow:0,integral:0,signState:!1},user_atten_list:[{value:0,name:"粉丝",target:"fans",index:1},{value:0,name:"关注",target:"fans",index:2},{value:0,name:"我的积分",target:"integralDetail",index:3}],tabr_list:[{icon_src:"../../../static/img/02.png",name:"健康统计",target:"statistics"},{icon_src:"../../../static/img/paihang2.png",name:"健康排行",target:"ranking"},{icon_src:"../../../static/img/huodong.png",name:"我的活动",target:"challenge"},{icon_src:"../../../static/img/bangding.png",name:"我的设备",target:"mydevice"},{icon_src:"../../../static/img/user02.png",name:"个人资料",target:"userData"}],sign_list:[{day:1,integral:"+10",state:!1},{day:2,integral:"+10",state:!1},{day:3,integral:"+10",state:!1},{day:4,integral:"+20",state:!1},{day:5,integral:"+20",state:!1},{day:6,integral:"+30",state:!1},{day:7,integral:"+30",state:!1}],util_list:[{imgsrc:"../../../static/img/yaoqingma.png",name:"我的邀请码",info:"邀请好友+50积分",target:"invitedFriend"},{imgsrc:"../../../static/img/shezhi.png",name:"安全设置",info:"",target:"changeMobile"},{imgsrc:"../../../static/img/bangzhu.png",name:"帮助",info:"",target:"help"},{imgsrc:"../../../static/img/guanyu.png",name:"关于",info:"",target:"version"},{imgsrc:"../../../static/img/guanyu.png",name:"健康挑战",info:"",target:"challenge"}]}},mixins:[c.childMixin],onLoad:function(){this.setStatisTics()},onShow:function(){this.getInitData()},onPullDownRefresh:function(){this.getInitData(),console.log("onPullDownRefresh")},methods:{getInitData:function(){var e=this;this.$api.myInfo({userCode:this.$store.state.userCode,token:this.$store.state.token},function(a){1==a.data.status&&e.setMyData(a.data),console.log(a),99==a.data.status&&e.loginOut(a.data.msg),t.stopPullDownRefresh()},function(e){console.log(e),t.stopPullDownRefresh()})},target:function(e,a){console.log(e,a),""!=e&&(a?t.navigateTo({url:"../../template/"+e+"/"+e+"?index="+a}):t.navigateTo({url:"../../template/"+e+"/"+e}))},setMyData:function(t){var e=this;t.data.weekList.map(function(t){e.sign_list[t.weekdayNum-1].state=!0,e.sign_list[t.weekdayNum-1].integral="+"+t.score}),e.my_data.follow=t.data.followNum,e.my_data.fansNum=t.data.fans,e.my_data.name=t.data.nickName,e.my_data.imgsrc=t.data.HeadpicUrl.indexOf("http")>-1?t.data.HeadpicUrl:this.baseurl+t.data.HeadpicUrl,e.my_data.signState=t.data.signState,e.my_data.integral=t.data.score,e.user_atten_list[0].value=t.data.fansNum,e.user_atten_list[1].value=t.data.followNum,e.user_atten_list[2].value=t.data.score,e.$store.commit("set_nickName",e.my_data.name),e.$store.commit("set_headpicUrl",e.my_data.imgsrc)},setStatisTics:function(){var t=this;[1,2,3].map(function(e){t.$api.statisticsUserPuffs({userCode:t.$store.state.userCode,token:t.$store.state.token,type:e},function(a){console.log(a),1==a.data.status&&(1==e&&t.$store.commit("set_statisTicsData",{day:a.data.data}),2==e&&t.$store.commit("set_statisTicsData",{month:a.data.data}),3==e&&t.$store.commit("set_statisTicsData",{year:a.data.data}))})})}},components:{uniIcon:n.default}}}).call(e,a(2).default)},51:function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"page"},[a("view",{staticClass:"page-body uni-column"},[a("view",{staticClass:"page-section",staticStyle:{padding:"10upx 30upx 20upx"}},[a("view",{staticClass:"user-list align-center justify-center uni-column",staticStyle:{background:"#17393c"}},[a("view",{staticClass:"my-top action-row",attrs:{eventid:"tDf-0"},on:{tap:function(e){t.target("userData")}}},[a("view",{staticClass:"left align-center",staticStyle:{flex:"4","justify-content":"flex-start","padding-left":"50upx"}},[a("view",{staticStyle:{width:"120upx",height:"120upx","border-radius":"120upx",overflow:"hidden"}},[a("image",{staticStyle:{width:"100%",height:"100%"},attrs:{src:t.my_data.imgsrc?t.my_data.imgsrc:t.noheaderimg}})]),a("view",{staticClass:"name"},[a("text",{staticStyle:{"font-size":"30upx","margin-left":"10upx",color:"#FFFFFF"}},[t._v("  "+t._s(t.my_data.name))])])]),a("view",{staticClass:"right align-center",staticStyle:{flex:"1","justify-content":"flex-end"}})]),a("view",{staticClass:"user-card"},[a("view",{staticClass:"user-card-list"},t._l(t.user_atten_list,function(e,s){return a("view",{key:s,staticClass:"list",attrs:{eventid:"HhQ-1-"+s},on:{tap:function(a){t.target(e.target,e.index)}}},[a("text",[t._v(t._s(e.value))]),a("text",[t._v(t._s(e.name))])])}))])])]),a("view",{staticClass:"page-section justify-center"},[a("view",{staticClass:"tabr action-row"},t._l(t.tabr_list,function(e,s){return a("view",{key:s,staticClass:"list",attrs:{"hover-class":"uni-list-cell-hover",eventid:"9aj-2-"+s},on:{tap:function(a){t.target(e.target)}}},[a("image",{attrs:{src:e.icon_src,mode:""}}),a("text",[t._v(t._s(e.name))])])}))]),a("view",{staticClass:"page-section justify-center"},[a("view",{staticClass:"sign uni-column"},[a("view",{staticClass:"top uni-row"},[t._m(0),a("view",{staticClass:"align-center",staticStyle:{"justify-content":"flex-end",flex:"2"}},[a("text",{staticClass:"sign-state",class:(t.my_data.signState,"checkInTure"),attrs:{eventid:"rSe-3"},on:{tap:function(e){t.target("checkIn")}}},[t._v("\n\t\t\t\t\t\t\t"+t._s(t.my_data.signState?"已领取":"领取")+"\n\t\t\t\t\t\t")])])]),a("view",{staticClass:"bottom"},t._l(t.sign_list,function(e,s){return a("view",{key:s,staticClass:"uni-row align-center",staticStyle:{flex:"1"}},[a("view",{staticClass:"uni-column align-center"},[a("view",{staticClass:"box justify-center align-center",class:(e.state?"box-active":"")||(e.day==t.today?"box-now":""),staticStyle:{position:"relative"}},[a("text",[t._v(t._s(e.day))])]),a("view",{},[a("text",[t._v("\n\t\t\t\t\t\t\t\t\t"+t._s(e.integral)+"\n\t\t\t\t\t\t\t\t")])])])])}))])]),a("view",{staticClass:"page-section uni-column"},t._l(t.util_list,function(e,s){return a("view",{key:s,staticClass:"util-list justify-center",attrs:{"hover-class":"uni-list-cell-hover"}},[a("view",{staticClass:"list uni-row",class:s==t.util_list.length-1?"uni-border-none":"",attrs:{eventid:"OVC-4-"+s},on:{tap:function(a){t.target(e.target)}}},[a("view",{staticStyle:{flex:"1"}},[a("image",{attrs:{src:e.imgsrc,mode:""}})]),a("view",{staticStyle:{flex:"5"}},[a("text",[t._v(t._s(e.name))])]),a("view",{staticStyle:{flex:"5","justify-content":"flex-end"}},[a("text",[t._v(t._s(e.info))])]),t._m(1,!0)])])}))])])};s._withStripped=!0;var i={render:s,staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticClass:"uni-column",staticStyle:{"justify-content":"center",flex:"3","padding-bottom":"40upx"}},[e("text",{staticStyle:{"font-size":"36upx"}},[this._v("每日签到")]),e("text",{staticStyle:{"font-size":"24upx"}},[this._v("连续签到一周，可获得9折券")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("view",{staticStyle:{flex:"1","justify-content":"flex-end"}},[this._v("\n\t\t\t\t\t\t "),e("image",{attrs:{src:"../../../static/img/more2.png",mode:""}})])}]};e.a=i}},[47]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/tabBar/my/my.js.map