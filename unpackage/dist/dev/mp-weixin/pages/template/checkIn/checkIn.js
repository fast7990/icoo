require("../../../common/manifest.js");
require("../../../common/vendor.js");
global.webpackJsonp([16],{73:function(t,e,a){"use strict";var i=n(a(1)),s=n(a(74));function n(t){return t&&t.__esModule?t:{default:t}}Page((0,i.default)(s.default))},74:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a(76),s=a.n(i),n=a(77),o=!1;var r=function(t){o||a(75)},c=a(0)(s.a,n.a,r,"data-v-5ed63395",null);c.options.__file="..\\..\\..\\..\\HBX\\icoo\\pages\\template\\checkIn\\checkIn.vue",c.esModule&&Object.keys(c.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),c.options.functional&&console.error("[vue-loader] checkIn.vue: functional components are not supported with templates, they should use render functions."),e.default=c.exports},75:function(t,e){},76:function(t,e,a){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0});var i=a(7);e.default={data:function(){return{checked_state:-1,today:-1,speed_day:0,integral_day:0,signState:0,receivingState:!1,list:[{day:"星期一",state:!1,imgname:"monday"},{day:"星期二",state:!1,imgname:"tuesday"},{day:"星期三",state:!1,imgname:"wednesday"},{day:"星期四",state:!1,imgname:"thursday"},{day:"星期五",state:!1,imgname:"friday"},{day:"星期六",state:!1,imgname:"saturday"},{day:"星期日",state:!1,imgname:"sunday"}],list_day:[{day:10,integral:0},{day:20,integral:0},{day:28,integral:0}]}},mixins:[i.bluetoothKeepLive],onLoad:function(){var t=this,e=t.$store.state.bluetoothKeepLiveState;this.integralDayComputer(this.integral_day),console.log(e),e?(this.uploadPuffsNum(),wx.showLoading({title:"请稍后..."}),setTimeout(function(){t.initData()},2e3)):t.initData()},created:function(){this.today=(new Date).getDay()},methods:{uploadPuffsNum:function(){this.$store.state.bluetoothKeepLiveState&&this.sendBLEValueChange(85)},childPagPuffsLogUpdata:function(t){var e=this.$store.state.globalData.totalPuffsTime,a="";Array.isArray(t)&&(a=parseInt(t[12],16)),console.log("-----new:%d,old:%d-----",a,e),a>e&&this.puffsLogUpdata(t)},childPagIsUserDevice:function(t){},childPagResult:function(){},integralDayComputer:function(t){this.speed_day=t/31*100+"%"},initData:function(){var t=this;this.$api.signPage({userCode:this.$store.state.userCode,token:this.$store.state.token},function(e){wx.hideLoading(),1==e.data.status&&(t.list_day[0].integral=e.data.data.fst,t.list_day[1].integral=e.data.data.snd,t.list_day[2].integral=e.data.data.trd,t.integral_day=e.data.data.cumulativeDays,t.signState=e.data.data.signState,t.integralDayComputer(t.integral_day),t.showWeekList(e.data.data.weekList)),console.log(e)},function(t){wx.hideLoading(),console.log(t)})},showWeekList:function(t){var e=this;Array.isArray(t)&&t.map(function(t){var a=Number(t.weekdayNum);e.list[a-1].state=!0})},getReward:function(){var e=this;if(1!=this.signState){var a={userCode:this.$store.state.userCode,token:this.$store.state.token,puffsIntervalTime:this.$store.state.puffsIntervalTime};console.log(a),this.$api.signState(a,function(a){console.log(a),1==a.data.status?e.signState=1:t.showToast({title:a.data.msg,icon:"none",mask:!1,duration:1500})},function(t){console.log(t)})}else t.showToast({title:"已领取过",mask:!1,icon:"none",duration:1500})}}}}).call(e,a(2).default)},77:function(t,e,a){"use strict";var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("view",{staticClass:"page"},[a("view",{staticClass:"page-body uni-column"},[a("view",{staticClass:"page-section",staticStyle:{background:"#17393c"}},[a("view",{staticClass:"tabs",staticStyle:{flex:"1","flex-wrap":"wrap","justify-content":"center"}},t._l(t.list,function(e,i){return a("view",{key:i,staticClass:"checkin-tab uni-column"},[a("view",{staticClass:"label-view"},[e.state?a("image",{attrs:{src:"../../../static/img/"+e.imgname+".png"}}):a("image",{attrs:{src:"../../../static/img/"+e.imgname+"-1.png"}})]),a("view",{staticClass:"justify-center"},[a("text",{staticStyle:{color:"#FFFFFF","font-size":"22upx"}},[t._v(t._s(e.day))])])])}))]),a("view",{staticClass:"page-section uni-column justify-center align-center checkin-log"},[a("view",{staticClass:"uni-row",staticStyle:{"justify-content":"space-between","margin-bottom":"20upx"}},[a("text",{staticStyle:{"font-size":"30upx"}},[t._v("11月")]),a("text",{staticStyle:{"font-size":"24upx"}},[t._v("已累计签到"+t._s(t.integral_day)+"天")])]),a("view",{staticClass:"uni-row",staticStyle:{position:"relative"}},[t._l(t.list_day,function(e,i){return a("view",{key:e,staticClass:"integral"},[a("view",{staticClass:"uni-column align-center"},[a("view",{staticStyle:{"font-size":"16upx",color:"#ea2022","align-items":"center","line-height":"28upx"}},[a("text",{staticStyle:{"font-size":"24upx"}},[t._v(t._s(e.day)+"天")])]),a("view",{staticClass:"uni-column justify-center align-center",staticStyle:{"margin-bottom":"10upx","margin-top":"10upx"}},[a("image",{staticStyle:{width:"25upx",height:"40upx"},attrs:{src:"../../../static/img/bangbang.png",mode:""}}),0===i?a("image",{staticStyle:{width:"50upx",height:"50upx"},attrs:{src:"../../../static/img/tongpai.png",mode:""}}):t._e(),1===i?a("image",{staticStyle:{width:"50upx",height:"50upx"},attrs:{src:"../../../static/img/yinpai.png",mode:""}}):t._e(),2===i?a("image",{staticStyle:{width:"50upx",height:"50upx"},attrs:{src:"../../../static/img/jinpai.png",mode:""}}):t._e()]),a("view",[a("text",{staticStyle:{"font-size":"26upx","line-height":"22upx"}},[t._v(t._s(e.integral)+"积分")])])])])}),a("view",{staticClass:"integral-bg"},[a("view",{style:{width:t.speed_day}})])],2),a("view",{staticClass:"uni-row",staticStyle:{padding:"120upx 0 126upx"}},[t.receivingState?a("button",{staticClass:"user-btn",class:1==t.signState?"":"checkInTure",attrs:{type:"primary",eventid:"B0b-1"},on:{tap:t.getReward}},[t._v(t._s((t.signState,"领取奖励")))]):a("button",{staticClass:"user-btn",class:1==t.signState?"":"checkInTure",attrs:{type:"primary",eventid:"STy-0"},on:{tap:t.getReward}},[t._v(t._s((t.signState,"领取奖励")))])],1),a("view",{staticClass:"uni-row justify-center"},[a("navigator",{staticStyle:{color:"#183b3e","font-size":"24upx","align-items":"center"},attrs:{url:""}},[t._v("查看规则说明"),a("image",{staticStyle:{width:"13upx",height:"21upx"},attrs:{src:"../../../static/img/more2.png",mode:""}})])],1)])])])};i._withStripped=!0;var s={render:i,staticRenderFns:[]};e.a=s}},[73]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/template/checkIn/checkIn.js.map