require("../../../common/manifest.js");
require("../../../common/vendor.js");
global.webpackJsonp([1],{128:function(t,e,o){"use strict";var n=a(o(1)),s=a(o(129));function a(t){return t&&t.__esModule?t:{default:t}}Page((0,n.default)(s.default))},129:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(131),s=o.n(n),a=o(140),l=!1;var i=function(t){l||o(130)},r=o(0)(s.a,a.a,i,"data-v-b8db618e",null);r.options.__file="..\\..\\..\\..\\HBX\\icoo\\pages\\template\\fans\\fans.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] fans.vue: functional components are not supported with templates, they should use render functions."),e.default=r.exports},130:function(t,e){},131:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=l(o(8)),s=l(o(132)),a=l(o(136));function l(t){return t&&t.__esModule?t:{default:t}}e.default={data:function(){return{baseusrl:"https://www.icoo.tech",contentText:{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"},tabitems:["推荐","关注","粉丝"],current:0,activeColor:"#17393c",styleType:"text",page_list:[{name:"recommend_list",data_list:[],page_number:1,limit:5,fansNum:0,followNum:0,loadingType:0},{name:"follow_list",data_list:[],page_number:1,limit:10,fansNum:0,followNum:0,loadingType:0},{name:"fans_list",data_list:[],page_number:1,limit:10,fansNum:0,followNum:0,loadingType:0}]}},onLoad:function(t){switch(console.log(t),t.index){case"1":this.current=2;break;case"2":this.current=1;break;case"3":this.current=0}this.initData(this.current,this.page_list[this.current].limit,1)},onReachBottom:function(){0===this.page_list[this.current].loadingType&&(this.page_list[this.current].loadingType=1,this.initData(this.current,this.page_list[this.current].limit,this.page_list[this.current].page_number))},components:{segmentedControl:n.default,fansControl:s.default,loadMore:a.default},methods:{initData:function(t,e,o){var n=this,s={userCode:this.$store.state.userCode,token:this.$store.state.token,type:t,limit:e,pageNum:o};this.$api.communityPage(s,function(t){console.log(t),1==t.data.status&&n.set_list(t.data.data.userList),0==t.data.data.userList.length||t.data.data.userList.length==t.data.data.fansNum?n.page_list[n.current].loadingType=2:(n.page_list[n.current].loadingType=0,n.page_list[n.current].page_number=n.page_list[n.current].page_number+10)},function(t){console.log("err",t),n.loadingType=0})},set_list:function(t){if(Array.isArray(t)){for(var e=0;e<t.length;e++)t[e].headpicUrl&&-1==t[e].headpicUrl.indexOf("http")&&(t[e].headpicUrl=this.baseusrl+t[e].headpicUrl);this.page_list[this.current].data_list=this.page_list[this.current].data_list.concat(t)}},onClickItem:function(t){this.current!==t&&(this.current=t),0==this.page_list[t].data_list.length&&this.initData(t,this.page_list[this.current].limit,1)}}}},132:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(134),s=o.n(n),a=o(135),l=!1;var i=function(t){l||o(133)},r=o(0)(s.a,a.a,i,"data-v-2d759ba5",null);r.options.__file="..\\..\\..\\..\\HBX\\icoo\\components\\fans-control.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] fans-control.vue: functional components are not supported with templates, they should use render functions."),e.default=r.exports},133:function(t,e){},134:function(t,e,o){"use strict";(function(t){Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"fans-control",props:{styleType:{type:String,default:"button"},followStatus:{type:Boolean,default:!0},values:{type:Array,default:function(){return[]}}},data:function(){return{baseusrl:"https://www.icoo.tech",nopicture:"../../../static/img/nopicture.png"}},methods:{followChange:function(t){var e="";0==t.followState?(t.followState=1,e=0):(t.followState=0,e=1),this.setFollowChange(t,e)},setFollowChange:function(e,o){var n={userCode:this.$store.state.userCode,token:this.$store.state.token,followUserCode:e.userCode,type:o};console.log(n),this.$api.followOrCancelUser(n,function(o){1==o.data.status?1==e.followState?t.showToast({title:"关注成功",icon:"success"}):t.showToast({title:"取消成功",icon:"success"}):t.showToast({title:"设置失败",icon:"none"}),console.log(o)},function(t){console.log(t)})}}}}).call(e,o(2).default)},135:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("view",{staticClass:"fans-control uni-column",class:t.styleType},t._l(t.values,function(e,n){return o("view",{key:n,staticClass:"fans-control-item align-center",class:n==t.values.length-1?"last":""},[o("view",{staticClass:"left",staticStyle:{flex:"1"}},[o("view",{staticClass:"imgheader"},[o("image",{attrs:{src:e.headpicUrl?e.headpicUrl:t.nopicture,mode:"",url:e.headpicUrl}})])]),o("view",{staticClass:"center",staticStyle:{flex:"4"}},[o("text",{staticStyle:{"margin-left":"10upx"}},[t._v(t._s(e.nickName?e.nickName:""))])]),o("view",{directives:[{name:"show",rawName:"v-show",value:t.followStatus,expression:"followStatus"}],staticClass:"right",staticStyle:{flex:"2"},attrs:{eventid:"M80-0-"+n},on:{tap:function(o){t.followChange(e)}}},[o("text",[t._v(t._s(0==e.followState?"+关注":"已关注"))])])])}))};n._withStripped=!0;var s={render:n,staticRenderFns:[]};e.a=s},136:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=o(138),s=o.n(n),a=o(139),l=!1;var i=function(t){l||o(137)},r=o(0)(s.a,a.a,i,null,null);r.options.__file="..\\..\\..\\..\\HBX\\icoo\\components\\load-more.vue",r.esModule&&Object.keys(r.esModule).some(function(t){return"default"!==t&&"__"!==t.substr(0,2)})&&console.error("named exports are not supported in *.vue files."),r.options.functional&&console.error("[vue-loader] load-more.vue: functional components are not supported with templates, they should use render functions."),e.default=r.exports},137:function(t,e){},138:function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"load-more",props:{loadingType:{type:Number,default:0},showImage:{type:Boolean,default:!0},color:{type:String,default:"#777777"},contentText:{type:Object,default:function(){return{contentdown:"上拉显示更多",contentrefresh:"正在加载...",contentnomore:"没有更多数据了"}}}},data:function(){return{}}}},139:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("view",{staticClass:"load-more"},[o("view",{directives:[{name:"show",rawName:"v-show",value:1===t.loadingType&&t.showImage,expression:"loadingType === 1 && showImage"}],staticClass:"loading-img"},[o("view",{staticClass:"load1"},[o("view",{style:{background:t.color}}),o("view",{style:{background:t.color}}),o("view",{style:{background:t.color}}),o("view",{style:{background:t.color}})]),o("view",{staticClass:"load2"},[o("view",{style:{background:t.color}}),o("view",{style:{background:t.color}}),o("view",{style:{background:t.color}}),o("view",{style:{background:t.color}})]),o("view",{staticClass:"load3"},[o("view",{style:{background:t.color}}),o("view",{style:{background:t.color}}),o("view",{style:{background:t.color}}),o("view",{style:{background:t.color}})])]),o("text",{staticClass:"loading-text",style:{color:t.color}},[t._v(t._s(0===t.loadingType?t.contentText.contentdown:1===t.loadingType?t.contentText.contentrefresh:t.contentText.contentnomore))])])};n._withStripped=!0;var s={render:n,staticRenderFns:[]};e.a=s},140:function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("view",{staticClass:"page"},[o("view",{staticClass:"page-body"},[o("view",{staticClass:"page-section-tab action-row"},[o("segmented-control",{attrs:{current:t.current,values:t.tabitems,styleType:t.styleType,activeColor:t.activeColor,eventid:"yUY-0",mpcomid:"kTW-0"},on:{clickItem:t.onClickItem}})],1),o("view",{staticClass:"page-section uni-column",style:{display:0===t.current?"flex":"none"}},[o("fans-control",{attrs:{followStatus:!0,values:t.page_list[0].data_list,styleType:t.styleType,mpcomid:"3Sl-1"}})],1),o("view",{staticClass:"page-section uni-column",style:{display:1===t.current?"flex":"none"}},[o("fans-control",{attrs:{followStatus:!1,values:t.page_list[1].data_list,styleType:t.styleType,mpcomid:"MsH-2"}}),o("load-more",{attrs:{loadingType:t.page_list[1].loadingType,contentText:t.contentText,mpcomid:"lOn-3"}})],1),o("view",{staticClass:"page-section uni-column",style:{display:2===t.current?"flex":"none"}},[o("fans-control",{attrs:{followStatus:!1,values:t.page_list[2].data_list,styleType:t.styleType,mpcomid:"gmw-4"}}),o("load-more",{attrs:{loadingType:t.page_list[2].loadingType,contentText:t.contentText,mpcomid:"C4D-5"}})],1)])])};n._withStripped=!0;var s={render:n,staticRenderFns:[]};e.a=s}},[128]);
//# sourceMappingURL=../../../../.sourcemap/mp-weixin/pages/template/fans/fans.js.map